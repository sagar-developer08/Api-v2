#!/usr/bin/env node
/**
 * Generates complete Postman collection from route definitions
 */
const fs = require('fs');
const path = require('path');

const baseUrl = '{{baseUrl}}';
const req = (method, path, body = null) => {
  const r = { method, header: [{ key: 'Content-Type', value: 'application/json' }], url: `${baseUrl}${path}` };
  if (body && ['POST', 'PUT', 'PATCH'].includes(method)) r.body = { mode: 'raw', raw: typeof body === 'string' ? body : JSON.stringify(body, null, 2) };
  return r;
};
const get = (p) => ({ name: p.split('/').pop() || 'List', request: { method: 'GET', header: [], url: `${baseUrl}${p}` } });
const post = (p, b = '{}') => ({ name: p.split('/').pop() || 'Create', request: req('POST', p, b) });
const put = (p, b = '{}') => ({ name: p.split('/').pop() || 'Update', request: req('PUT', p, b) });
const patch = (p, b = '{}') => ({ name: p.split('/').pop() || 'Update', request: req('PATCH', p, b) });
const del = (p) => ({ name: 'Delete', request: { method: 'DELETE', header: [], url: `${baseUrl}${p}` } });

const collection = {
  info: { name: 'Vidhyadhan API - Complete', description: 'All API routes', schema: 'https://schema.getpostman.com/json/collection/v2.1.0/collection.json' },
  variable: [
    { key: 'baseUrl', value: 'http://localhost:8080' },
    { key: 'token', value: '' },
    { key: 'schoolId', value: '' },
    { key: 'studentId', value: '' },
    { key: 'classId', value: '' },
    { key: 'teacherId', value: '' },
    { key: 'noticeId', value: '' },
    { key: 'examId', value: '' }
  ],
  auth: { type: 'bearer', bearer: [{ key: 'token', value: '{{token}}', type: 'string' }] },
  item: []
};

function addFolder(name, items) {
  collection.item.push({ name, item: items.map(i => typeof i === 'string' ? get(i) : i) });
}

// Health
addFolder('Health', ['/api/health']);

// Auth (no auth)
addFolder('Auth', [
  post('/api/v1/auth/register', { schoolName: '', adminName: '', mobileNumber: '', email: '', password: '', confirmPassword: '' }),
  post('/api/v1/auth/verify-otp', { email: '', otp: '' }),
  post('/api/v1/auth/resend-otp', { email: '' }),
  post('/api/v1/auth/login', { schoolCode: '', email: '', password: '' }),
  post('/api/v1/auth/forgot-password', { email: '' }),
  post('/api/v1/auth/reset-password', { token: '', password: '' }),
  get('/api/v1/auth/profile'),
  post('/api/v1/auth/student-login', { schoolCode: '', email: '', password: '' }),
  post('/api/v1/auth/teacher-login', { schoolCode: '', email: '', password: '' }),
  post('/api/v1/auth/parent-login', { schoolCode: '', email: '', password: '' })
]);

// Schools Setup
addFolder('Schools Setup', [
  get('/api/v1/schools/{{schoolId}}/setup-wizard'),
  put('/api/v1/schools/{{schoolId}}/setup-wizard/step/1', {}),
  put('/api/v1/schools/{{schoolId}}/setup-wizard/step/2', {}),
  put('/api/v1/schools/{{schoolId}}/setup-wizard/step/3', {}),
  post('/api/v1/schools/{{schoolId}}/setup-wizard/finish')
]);

// School Profile
addFolder('School Profile', [
  get('/api/v1/school/profile'),
  put('/api/v1/school/profile', {}),
  patch('/api/v1/school/profile', {})
]);

// Super Admin
addFolder('Super Admin', [
  post('/api/super-admin/login', { email: '', password: '' }),
  get('/api/super-admin/dashboard'),
  get('/api/super-admin/schools'),
  post('/api/super-admin/schools', { schoolName: '', schoolCode: '' }),
  get('/api/super-admin/schools/{{schoolId}}'),
  put('/api/super-admin/schools/{{schoolId}}', {}),
  del('/api/super-admin/schools/{{schoolId}}'),
  post('/api/super-admin/schools/{{schoolId}}/approve', {}),
  post('/api/super-admin/schools/{{schoolId}}/reject', {}),
  get('/api/super-admin/users'),
  get('/api/super-admin/users/:id'),
  post('/api/super-admin/users', {}),
  put('/api/super-admin/users/:id', {}),
  del('/api/super-admin/users/:id'),
  get('/api/super-admin/feature-config/:tenantId'),
  put('/api/super-admin/feature-config/:tenantId', {}),
  get('/api/super-admin/settings'),
  put('/api/super-admin/settings', {}),
  get('/api/super-admin/platform-ops/jobs'),
  post('/api/super-admin/platform-ops/jobs/:jobId/retry'),
  get('/api/super-admin/platform-ops/queues'),
  get('/api/super-admin/platform-ops/cron-jobs'),
  get('/api/super-admin/platform-ops/maintenance'),
  post('/api/super-admin/platform-ops/maintenance', {}),
  get('/api/super-admin/audit-logs'),
  get('/api/super-admin/support/health'),
  get('/api/super-admin/support/issues'),
  get('/api/super-admin/support/notes/:tenantId'),
  post('/api/super-admin/support/notes', {}),
  get('/api/super-admin/support/impersonations'),
  post('/api/super-admin/support/impersonations', {})
]);

// Admin Classes (Legacy)
addFolder('Admin Classes Legacy', [
  post('/api/admin/classes/bulk-import'),
  get('/api/admin/classes/export'),
  get('/api/admin/classes/statistics'),
  get('/api/admin/classes'),
  post('/api/admin/classes', {}),
  get('/api/admin/classes/:id'),
  put('/api/admin/classes/:id', {}),
  patch('/api/admin/classes/:id', {}),
  del('/api/admin/classes/:id'),
  put('/api/admin/classes/:id/archive'),
  put('/api/admin/classes/:id/teacher', {}),
  get('/api/admin/classes/:id/overview'),
  get('/api/admin/classes/:id/students/rankings'),
  get('/api/admin/classes/:id/monitor'),
  put('/api/admin/classes/:id/monitor', {}),
  get('/api/admin/classes/:id/sections'),
  post('/api/admin/classes/:id/sections', {}),
  put('/api/admin/classes/:id/sections/:sectionId', {}),
  patch('/api/admin/classes/:id/sections/:sectionId', {}),
  put('/api/admin/classes/:id/sections/:sectionId/archive'),
  put('/api/admin/classes/:id/sections/:sectionId/capacity', {}),
  get('/api/admin/classes/:id/fee-structure'),
  put('/api/admin/classes/:id/fee-structure', {}),
  get('/api/admin/classes/:id/subjects'),
  post('/api/admin/classes/:id/subjects', {}),
  put('/api/admin/classes/:id/subjects/:subjectId/teacher', {}),
  put('/api/admin/classes/:id/subjects/:subjectId/type', {}),
  del('/api/admin/classes/:id/subjects/:subjectId'),
  get('/api/admin/classes/:id/timetable'),
  put('/api/admin/classes/:id/timetable', {}),
  get('/api/admin/classes/:id/timetable/slots/:slotId'),
  put('/api/admin/classes/:id/timetable/slots/:slotId', {}),
  del('/api/admin/classes/:id/timetable/slots/:slotId'),
  get('/api/admin/classes/:id/attendance/config'),
  put('/api/admin/classes/:id/attendance/config', {}),
  get('/api/admin/classes/:id/capacity'),
  put('/api/admin/classes/:id/capacity', {}),
  get('/api/admin/classes/:id/assignments'),
  post('/api/admin/classes/:id/assignments', {}),
  get('/api/admin/classes/:id/assignments/:assignmentId/submissions'),
  get('/api/admin/classes/:id/exams'),
  post('/api/admin/classes/:id/exams', {}),
  get('/api/admin/classes/:id/exams/:examId/results'),
  put('/api/admin/classes/:id/exams/:examId/status', {}),
  get('/api/admin/classes/:id/resources'),
  post('/api/admin/classes/:id/resources', {}),
  put('/api/admin/classes/:id/resources/:resourceId', {}),
  del('/api/admin/classes/:id/resources/:resourceId'),
  post('/api/admin/classes/:id/reports/generate', {}),
  get('/api/admin/classes/:id/reports/:reportId')
]);

// Academic Teachers
addFolder('Academic Teachers', [
  get('/api/academic/teachers/metrics'),
  get('/api/academic/teachers'),
  post('/api/academic/teachers', {}),
  get('/api/academic/teachers/:id'),
  put('/api/academic/teachers/:id', {}),
  del('/api/academic/teachers/:id')
]);

// Academic
addFolder('Academic', [
  get('/api/academic/students/statistics'),
  get('/api/academic/students'),
  post('/api/academic/students', {}),
  get('/api/academic/students/:id'),
  put('/api/academic/students/:id', {}),
  patch('/api/academic/students/:id', {}),
  del('/api/academic/students/:id'),
  get('/api/academic/students/:id/guardians'),
  post('/api/academic/students/:id/guardians', {}),
  get('/api/academic/sections'),
  post('/api/academic/sections', {}),
  get('/api/academic/subjects'),
  post('/api/academic/subjects', {})
]);

// Admin Students Legacy
addFolder('Admin Students Legacy', [
  post('/api/admin/students/bulk-import'),
  get('/api/admin/students/export'),
  get('/api/admin/students/statistics'),
  get('/api/admin/students/metrics'),
  get('/api/admin/students'),
  post('/api/admin/students', {}),
  get('/api/admin/students/:id'),
  put('/api/admin/students/:id', {}),
  patch('/api/admin/students/:id', {}),
  del('/api/admin/students/:id'),
  get('/api/admin/students/:id/overview'),
  get('/api/admin/students/:id/recent-marks'),
  get('/api/admin/students/:id/guardians'),
  post('/api/admin/students/:id/guardians', {}),
  put('/api/admin/students/:id/guardians/:guardianId', {}),
  patch('/api/admin/students/:id/guardians/:guardianId', {}),
  del('/api/admin/students/:id/guardians/:guardianId'),
  put('/api/admin/students/:id/guardians/:guardianId/primary'),
  put('/api/admin/students/:id/guardians/:guardianId/emergency'),
  get('/api/admin/students/:id/academic'),
  get('/api/admin/students/:id/academic-history'),
  post('/api/admin/students/:id/academic-history', {}),
  put('/api/admin/students/:id/academic-history/:recordId', {}),
  patch('/api/admin/students/:id/academic-history/:recordId', {}),
  del('/api/admin/students/:id/academic-history/:recordId'),
  get('/api/admin/students/:id/attendance'),
  get('/api/admin/students/:id/attendance/summary'),
  put('/api/admin/students/:id/attendance/:attendanceId', {}),
  patch('/api/admin/students/:id/attendance/:attendanceId', {}),
  get('/api/admin/students/:id/fees'),
  post('/api/admin/students/:id/fees', {}),
  get('/api/admin/students/:id/fees/summary'),
  post('/api/admin/students/:id/fees/:feeId/payments', {}),
  get('/api/admin/students/:id/documents'),
  post('/api/admin/students/:id/documents'),
  del('/api/admin/students/:id/documents/:documentId'),
  put('/api/admin/students/:id/documents/:documentId/verify', {}),
  get('/api/admin/students/:id/transport'),
  post('/api/admin/students/:id/transport', {}),
  put('/api/admin/students/:id/transport', {}),
  patch('/api/admin/students/:id/transport', {}),
  del('/api/admin/students/:id/transport'),
  get('/api/admin/students/:id/exams'),
  get('/api/admin/students/:id/performance'),
  get('/api/admin/students/:id/communication'),
  post('/api/admin/students/:id/communication', {}),
  post('/api/admin/students/:id/transfer', {}),
  post('/api/admin/students/:id/promote', {}),
  get('/api/admin/students/:id/transfer-history'),
  post('/api/admin/students/:id/reports/generate', {}),
  get('/api/admin/students/:id/reports/:reportId')
]);

// Admin App (v1/admin) - main admin routes
const adminRoutes = [
  get('/api/v1/admin/dashboard/stats'),
  get('/api/v1/admin/school/profile'),
  put('/api/v1/admin/school/profile', {}),
  get('/api/v1/admin/students'),
  post('/api/v1/admin/students', {}),
  get('/api/v1/admin/students/{{studentId}}'),
  put('/api/v1/admin/students/{{studentId}}', {}),
  del('/api/v1/admin/students/{{studentId}}'),
  del('/api/v1/admin/students/bulk/delete'),
  get('/api/v1/admin/students/{{studentId}}/attendance'),
  get('/api/v1/admin/students/{{studentId}}/academic'),
  get('/api/v1/admin/students/{{studentId}}/fees'),
  get('/api/v1/admin/students/{{studentId}}/guardians'),
  post('/api/v1/admin/students/{{studentId}}/guardians', {}),
  put('/api/v1/admin/students/{{studentId}}/guardians/:guardianId', {}),
  del('/api/v1/admin/students/{{studentId}}/guardians/:guardianId'),
  get('/api/v1/admin/students/{{studentId}}/documents'),
  post('/api/v1/admin/students/{{studentId}}/documents'),
  del('/api/v1/admin/students/{{studentId}}/documents/:documentId'),
  get('/api/v1/admin/students/{{studentId}}/notes'),
  post('/api/v1/admin/students/{{studentId}}/notes', {}),
  get('/api/v1/admin/teachers'),
  post('/api/v1/admin/teachers', {}),
  get('/api/v1/admin/teachers/:teacherId'),
  put('/api/v1/admin/teachers/:teacherId', {}),
  del('/api/v1/admin/teachers/:teacherId'),
  del('/api/v1/admin/teachers/bulk/delete'),
  get('/api/v1/admin/classes'),
  post('/api/v1/admin/classes', {}),
  get('/api/v1/admin/classes/{{classId}}'),
  put('/api/v1/admin/classes/{{classId}}', {}),
  del('/api/v1/admin/classes/{{classId}}'),
  post('/api/v1/admin/classes/{{classId}}/archive'),
  get('/api/v1/admin/classes/{{classId}}/students'),
  get('/api/v1/admin/classes/{{classId}}/subjects'),
  get('/api/v1/admin/classes/{{classId}}/attendance'),
  get('/api/v1/admin/classes/{{classId}}/timetable'),
  get('/api/v1/admin/classes/{{classId}}/capacity'),
  put('/api/v1/admin/classes/{{classId}}/capacity', {}),
  get('/api/v1/admin/classes/{{classId}}/fees'),
  put('/api/v1/admin/classes/{{classId}}/fees', {}),
  get('/api/v1/admin/classes/{{classId}}/promotions'),
  post('/api/v1/admin/classes/{{classId}}/promote', {}),
  get('/api/v1/admin/classes/{{classId}}/subject-mapping'),
  put('/api/v1/admin/classes/{{classId}}/subject-mapping', {}),
  get('/api/v1/admin/classes/{{classId}}/permissions'),
  put('/api/v1/admin/classes/{{classId}}/permissions', {}),
  get('/api/v1/admin/classes/{{classId}}/audit-log'),
  get('/api/v1/admin/classes/{{classId}}/stationary'),
  put('/api/v1/admin/classes/{{classId}}/stationary', {}),
  post('/api/v1/admin/classes/{{classId}}/roll-numbers/manage', {}),
  get('/api/v1/admin/classes/{{classId}}/attendance-config'),
  put('/api/v1/admin/classes/{{classId}}/attendance-config', {}),
  get('/api/v1/admin/classes/{{classId}}/exams'),
  get('/api/v1/admin/classes/{{classId}}/assignments'),
  get('/api/v1/admin/sections'),
  post('/api/v1/admin/sections', {}),
  get('/api/v1/admin/sections/:id'),
  put('/api/v1/admin/sections/:id', {}),
  del('/api/v1/admin/sections/:id'),
  get('/api/v1/admin/sections/:id/students'),
  get('/api/v1/admin/sections/:id/teachers'),
  get('/api/v1/admin/sections/:id/attendance'),
  get('/api/v1/admin/sections/:id/timetable'),
  get('/api/v1/admin/sections/:id/exams'),
  get('/api/v1/admin/sections/:id/capacity'),
  put('/api/v1/admin/sections/:id/capacity', {}),
  get('/api/v1/admin/sections/:id/fees'),
  get('/api/v1/admin/sections/:id/reports'),
  get('/api/v1/admin/sections/:id/overview'),
  get('/api/v1/admin/subjects'),
  post('/api/v1/admin/subjects', {}),
  get('/api/v1/admin/subjects/:subjectId'),
  put('/api/v1/admin/subjects/:subjectId', {}),
  del('/api/v1/admin/subjects/:subjectId'),
  del('/api/v1/admin/subjects/bulk/delete'),
  get('/api/v1/admin/subjects/:subjectId/class-mappings'),
  get('/api/v1/admin/subjects/:subjectId/teachers'),
  post('/api/v1/admin/subjects/:subjectId/teachers', {}),
  get('/api/v1/admin/subjects/:subjectId/attendance'),
  get('/api/v1/admin/subjects/:subjectId/timetable'),
  get('/api/v1/admin/subjects/:subjectId/exams'),
  get('/api/v1/admin/subjects/:subjectId/section-config'),
  put('/api/v1/admin/subjects/:subjectId/section-config', {}),
  get('/api/v1/admin/subjects/:subjectId/lms-content'),
  get('/api/v1/admin/subjects/:subjectId/metadata'),
  put('/api/v1/admin/subjects/:subjectId/metadata', {}),
  get('/api/v1/admin/subjects/:subjectId/overview'),
  get('/api/v1/admin/subjects/:subjectId/reports'),
  get('/api/v1/admin/attendance'),
  get('/api/v1/admin/attendance/config'),
  put('/api/v1/admin/attendance/config', {}),
  get('/api/v1/admin/attendance/teachers'),
  post('/api/v1/admin/attendance/teachers', {}),
  get('/api/v1/admin/attendance/staff'),
  post('/api/v1/admin/attendance/staff', {}),
  post('/api/v1/admin/attendance/bulk', {}),
  post('/api/v1/admin/attendance/daily', {}),
  post('/api/v1/admin/attendance/period', {}),
  put('/api/v1/admin/attendance/:attendanceId', {}),
  del('/api/v1/admin/attendance/:attendanceId'),
  del('/api/v1/admin/attendance/bulk/delete'),
  get('/api/v1/admin/attendance/statistics'),
  get('/api/v1/admin/attendance/locks'),
  post('/api/v1/admin/attendance/lock', {}),
  post('/api/v1/admin/attendance/unlock', {}),
  get('/api/v1/admin/attendance/leave'),
  post('/api/v1/admin/attendance/leave', {}),
  put('/api/v1/admin/attendance/leave/:type/:id/status', {}),
  get('/api/v1/admin/attendance/leave-balance'),
  get('/api/v1/admin/attendance/corrections'),
  post('/api/v1/admin/attendance/corrections', {}),
  put('/api/v1/admin/attendance/corrections/:id/status', {}),
  get('/api/v1/admin/attendance/notifications'),
  post('/api/v1/admin/attendance/notifications', {}),
  get('/api/v1/admin/attendance/reports'),
  get('/api/v1/admin/timetable'),
  get('/api/v1/admin/timetable/conflicts'),
  post('/api/v1/admin/timetable', {}),
  put('/api/v1/admin/timetable/:slotId', {}),
  del('/api/v1/admin/timetable/:slotId'),
  del('/api/v1/admin/timetable/bulk/delete'),
  get('/api/v1/admin/exams'),
  post('/api/v1/admin/exams', {}),
  get('/api/v1/admin/exams/:examId'),
  put('/api/v1/admin/exams/:examId', {}),
  del('/api/v1/admin/exams/:examId'),
  get('/api/v1/admin/exams/:examId/results'),
  post('/api/v1/admin/exams/:examId/results', {}),
  put('/api/v1/admin/exams/:examId/results/:resultId', {}),
  post('/api/v1/admin/exams/:examId/results/publish'),
  post('/api/v1/admin/exams/:examId/hall-tickets/generate'),
  get('/api/v1/admin/exams/:examId/hall-tickets'),
  get('/api/v1/admin/admissions/dashboard'),
  get('/api/v1/admin/admissions/enquiries'),
  post('/api/v1/admin/admissions/enquiries', {}),
  get('/api/v1/admin/admissions/enquiries/:id'),
  put('/api/v1/admin/admissions/enquiries/:id', {}),
  post('/api/v1/admin/admissions/enquiries/:id/convert', {}),
  get('/api/v1/admin/admissions/applications'),
  get('/api/v1/admin/admissions/applications/:id'),
  put('/api/v1/admin/admissions/applications/:id/status', {}),
  get('/api/v1/admin/admissions/applications/:id/documents'),
  post('/api/v1/admin/admissions/applications/:id/documents', {}),
  put('/api/v1/admin/admissions/applications/:id/documents/:documentId/verify', {}),
  get('/api/v1/admin/admissions/applications/:id/academic-history'),
  put('/api/v1/admin/admissions/applications/:id/academic-history', {}),
  post('/api/v1/admin/admissions/applications/:id/entrance-test', {}),
  post('/api/v1/admin/admissions/applications/:id/entrance-test/result', {}),
  post('/api/v1/admin/admissions/applications/:id/interview', {}),
  post('/api/v1/admin/admissions/applications/:id/interview/result', {}),
  put('/api/v1/admin/admissions/applications/:id/review', {}),
  post('/api/v1/admin/admissions/enroll', {}),
  get('/api/v1/admin/admissions/seat-capacity'),
  put('/api/v1/admin/admissions/seat-capacity', {}),
  get('/api/v1/admin/admissions/settings'),
  put('/api/v1/admin/admissions/settings', {}),
  post('/api/v1/admin/admissions/forms/publish', {}),
  get('/api/v1/admin/admissions/reports'),
  get('/api/v1/admin/fees/structures'),
  get('/api/v1/admin/fees/students'),
  post('/api/v1/admin/fees/students/assign', {}),
  get('/api/v1/admin/fees/payments'),
  post('/api/v1/admin/fees/payments', {}),
  get('/api/v1/admin/fees/payments/:paymentId/receipt'),
  get('/api/v1/admin/grades'),
  post('/api/v1/admin/grades', {}),
  put('/api/v1/admin/grades/:gradeId', {}),
  del('/api/v1/admin/grades/:gradeId'),
  get('/api/v1/admin/communication/notices'),
  post('/api/v1/admin/communication/notices', {}),
  get('/api/v1/admin/communication/notices/{{noticeId}}'),
  put('/api/v1/admin/communication/notices/{{noticeId}}', {}),
  del('/api/v1/admin/communication/notices/{{noticeId}}'),
  post('/api/v1/admin/communication/notices/{{noticeId}}/publish'),
  put('/api/v1/admin/communication/notices/{{noticeId}}/read'),
  get('/api/v1/admin/communication/templates'),
  post('/api/v1/admin/communication/templates', {}),
  put('/api/v1/admin/communication/templates/:id', {}),
  del('/api/v1/admin/communication/templates/:id'),
  post('/api/v1/admin/communication/sms', {}),
  post('/api/v1/admin/communication/email', {}),
  get('/api/v1/admin/communication/history'),
  get('/api/v1/admin/communication/sms/balance'),
  post('/api/v1/admin/reports/generate', {}),
  get('/api/v1/admin/reports/:reportId/status'),
  get('/api/v1/admin/reports/:reportId/download'),
  get('/api/v1/admin/reports/types'),
  get('/api/v1/admin/reports/templates'),
  post('/api/v1/admin/reports/templates', {}),
  post('/api/v1/admin/reports/schedule', {}),
  get('/api/v1/admin/reports/scheduled'),
  put('/api/v1/admin/reports/scheduled/:id/cancel'),
  get('/api/v1/admin/settings'),
  put('/api/v1/admin/settings', {})
];

collection.item.push({ name: 'Admin App (v1/admin)', item: adminRoutes });

// Student App
addFolder('Student App', [
  get('/api/v1/student/dashboard'),
  get('/api/v1/student/profile'),
  put('/api/v1/student/profile', {}),
  get('/api/v1/student/classes'),
  get('/api/v1/student/classes/{{classId}}'),
  get('/api/v1/student/classes/{{classId}}/students'),
  get('/api/v1/student/classes/{{classId}}/teacher'),
  get('/api/v1/student/subjects'),
  get('/api/v1/student/subjects/:subjectId'),
  get('/api/v1/student/assignments'),
  get('/api/v1/student/assignments/:assignmentId'),
  get('/api/v1/student/assignments/:assignmentId/submission'),
  post('/api/v1/student/assignments/:assignmentId/submit', {}),
  put('/api/v1/student/assignments/:assignmentId/submission', {}),
  get('/api/v1/student/grades'),
  get('/api/v1/student/grades/summary'),
  get('/api/v1/student/grades/:gradeId'),
  get('/api/v1/student/attendance'),
  get('/api/v1/student/attendance/summary'),
  get('/api/v1/student/attendance/calendar'),
  get('/api/v1/student/timetable'),
  get('/api/v1/student/timetable/:dayOfWeek'),
  get('/api/v1/student/exams'),
  get('/api/v1/student/exams/results'),
  get('/api/v1/student/exams/:examId'),
  get('/api/v1/student/exams/:examId/hall-ticket'),
  get('/api/v1/student/exams/results/:resultId'),
  get('/api/v1/student/fees'),
  get('/api/v1/student/fees/payments'),
  get('/api/v1/student/fees/:feeId'),
  get('/api/v1/student/fees/payments/:paymentId/receipt'),
  get('/api/v1/student/documents'),
  get('/api/v1/student/documents/:documentId'),
  post('/api/v1/student/documents', {}),
  del('/api/v1/student/documents/:documentId'),
  get('/api/v1/student/content'),
  get('/api/v1/student/content/:contentId'),
  post('/api/v1/student/content/:contentId/progress', {}),
  get('/api/v1/student/notices'),
  get('/api/v1/student/notices/{{noticeId}}'),
  post('/api/v1/student/notices/{{noticeId}}/read'),
  put('/api/v1/student/notices/{{noticeId}}/read'),
  get('/api/v1/student/messages'),
  get('/api/v1/student/messages/:messageId'),
  post('/api/v1/student/messages', {}),
  post('/api/v1/student/messages/:messageId/read'),
  get('/api/v1/student/settings'),
  put('/api/v1/student/settings', {}),
  post('/api/v1/student/change-password', {})
]);

// Teacher App
addFolder('Teacher App', [
  get('/api/v1/teacher/dashboard/stats'),
  get('/api/v1/teacher/profile'),
  put('/api/v1/teacher/profile', {}),
  get('/api/v1/teacher/profile/qualifications'),
  post('/api/v1/teacher/profile/qualifications', {}),
  del('/api/v1/teacher/profile/qualifications/:qualificationId'),
  get('/api/v1/teacher/profile/documents'),
  post('/api/v1/teacher/profile/documents'),
  del('/api/v1/teacher/profile/documents/:documentId'),
  get('/api/v1/teacher/classes'),
  get('/api/v1/teacher/classes/{{classId}}'),
  get('/api/v1/teacher/classes/{{classId}}/students'),
  get('/api/v1/teacher/students'),
  get('/api/v1/teacher/students/:studentId'),
  get('/api/v1/teacher/students/:studentId/attendance'),
  get('/api/v1/teacher/students/:studentId/grades'),
  get('/api/v1/teacher/assignments'),
  post('/api/v1/teacher/assignments', {}),
  get('/api/v1/teacher/assignments/:assignmentId'),
  put('/api/v1/teacher/assignments/:assignmentId', {}),
  del('/api/v1/teacher/assignments/:assignmentId'),
  post('/api/v1/teacher/assignments/:assignmentId/publish'),
  post('/api/v1/teacher/assignments/:assignmentId/close'),
  get('/api/v1/teacher/assignments/:assignmentId/submissions'),
  get('/api/v1/teacher/assignments/:assignmentId/submissions/:submissionId'),
  put('/api/v1/teacher/assignments/:assignmentId/submissions/:submissionId/grade', {}),
  get('/api/v1/teacher/grades'),
  post('/api/v1/teacher/grades', {}),
  post('/api/v1/teacher/grades/bulk', {}),
  put('/api/v1/teacher/grades/:gradeId', {}),
  del('/api/v1/teacher/grades/:gradeId'),
  get('/api/v1/teacher/attendance'),
  post('/api/v1/teacher/attendance/bulk', {}),
  get('/api/v1/teacher/attendance/statistics'),
  get('/api/v1/teacher/attendance/class/{{classId}}/date/:date'),
  put('/api/v1/teacher/attendance/:attendanceId', {}),
  del('/api/v1/teacher/attendance/:attendanceId'),
  get('/api/v1/teacher/timetable'),
  get('/api/v1/teacher/timetable/day/:dayOfWeek'),
  get('/api/v1/teacher/exams'),
  get('/api/v1/teacher/exams/:examId'),
  get('/api/v1/teacher/exams/:examId/results'),
  post('/api/v1/teacher/exams/:examId/results', {}),
  post('/api/v1/teacher/exams/:examId/results/bulk', {}),
  put('/api/v1/teacher/exams/:examId/results/:resultId', {}),
  get('/api/v1/teacher/content'),
  post('/api/v1/teacher/content', {}),
  get('/api/v1/teacher/content/:contentId'),
  put('/api/v1/teacher/content/:contentId', {}),
  del('/api/v1/teacher/content/:contentId'),
  get('/api/v1/teacher/communication/notices'),
  get('/api/v1/teacher/communication/notices/{{noticeId}}'),
  put('/api/v1/teacher/communication/notices/{{noticeId}}/read'),
  post('/api/v1/teacher/communication/messages', {}),
  get('/api/v1/teacher/communication/messages'),
  get('/api/v1/teacher/leave/requests'),
  post('/api/v1/teacher/leave/requests', {}),
  put('/api/v1/teacher/leave/requests/:requestId', {}),
  del('/api/v1/teacher/leave/requests/:requestId'),
  get('/api/v1/teacher/leave/balance'),
  get('/api/v1/teacher/settings'),
  put('/api/v1/teacher/settings', {}),
  post('/api/v1/teacher/change-password', {})
]);

// Parent App
addFolder('Parent App', [
  get('/api/v1/parent/dashboard'),
  get('/api/v1/parent/children'),
  get('/api/v1/parent/children/:childId'),
  get('/api/v1/parent/children/:childId/attendance'),
  get('/api/v1/parent/children/:childId/grades'),
  get('/api/v1/parent/children/:childId/exams'),
  get('/api/v1/parent/children/:childId/assignments'),
  get('/api/v1/parent/children/:childId/timetable'),
  get('/api/v1/parent/children/:childId/fees'),
  post('/api/v1/parent/children/:childId/fees/pay', {}),
  get('/api/v1/parent/children/:childId/documents'),
  get('/api/v1/parent/children/:childId/transport/attendance'),
  get('/api/v1/parent/children/:childId/transport'),
  get('/api/v1/parent/children/:childId/learning-resources'),
  get('/api/v1/parent/children/:childId/syllabus'),
  get('/api/v1/parent/children/:childId/leave'),
  post('/api/v1/parent/children/:childId/leave', {}),
  get('/api/v1/parent/notices'),
  put('/api/v1/parent/notices/:noticeId/read'),
  get('/api/v1/parent/messages'),
  post('/api/v1/parent/messages', {}),
  get('/api/v1/parent/school-info'),
  get('/api/v1/parent/school-info/policies'),
  get('/api/v1/parent/school-info/contact'),
  get('/api/v1/parent/profile'),
  put('/api/v1/parent/profile', {}),
  post('/api/v1/parent/change-password', {}),
  get('/api/v1/parent/meetings'),
  post('/api/v1/parent/meetings', {}),
  get('/api/v1/parent/transport/routes/:routeId'),
  get('/api/v1/parent/documents/:documentId/download')
]);

// Staff HR
addFolder('Staff HR', [
  get('/api/v1/staff/departments'),
  post('/api/v1/staff/departments', {}),
  get('/api/v1/staff/roles'),
  post('/api/v1/staff/roles', {}),
  post('/api/v1/staff/attendance', {}),
  get('/api/v1/staff/attendance'),
  get('/api/v1/staff/attendance/statistics'),
  get('/api/v1/staff/attendance/reports'),
  post('/api/v1/staff/leave', {}),
  get('/api/v1/staff/leave'),
  put('/api/v1/staff/leave/:id/status', {}),
  get('/api/v1/staff/leave-balance'),
  get('/api/v1/staff/payroll'),
  post('/api/v1/staff/payroll/generate', {}),
  get('/api/v1/staff/payroll/:id'),
  put('/api/v1/staff/payroll/:id', {}),
  get('/api/v1/staff/settings'),
  put('/api/v1/staff/settings', {}),
  post('/api/v1/staff/bulk-import', {}),
  get('/api/v1/staff'),
  get('/api/v1/staff/:id'),
  post('/api/v1/staff', {}),
  put('/api/v1/staff/:id', {}),
  del('/api/v1/staff/:id'),
  get('/api/v1/staff/:id/documents'),
  post('/api/v1/staff/:id/documents', {}),
  get('/api/v1/staff/:id/qualifications'),
  post('/api/v1/staff/:id/qualifications', {}),
  get('/api/v1/staff/:id/reviews'),
  get('/api/v1/staff/:id/appraisals'),
  get('/api/v1/staff/advances'),
  post('/api/v1/staff/advances', {}),
  get('/api/v1/staff/loans'),
  post('/api/v1/staff/loans', {}),
  get('/api/v1/staff/reimbursements'),
  post('/api/v1/staff/reimbursements', {}),
  get('/api/v1/staff/performance/reviews'),
  post('/api/v1/staff/performance/reviews', {}),
  get('/api/v1/staff/training/sessions'),
  post('/api/v1/staff/training/sessions', {}),
  get('/api/v1/staff/training/sessions/:sessionId/records'),
  post('/api/v1/staff/training/attendance', {})
]);

// Transport
addFolder('Transport', [
  get('/api/v1/transport/dashboard'),
  get('/api/v1/transport/vehicles'),
  get('/api/v1/transport/vehicles/:id'),
  get('/api/v1/transport/vehicles/:id/maintenance'),
  post('/api/v1/transport/vehicles/:id/maintenance', {}),
  post('/api/v1/transport/vehicles', {}),
  put('/api/v1/transport/vehicles/:id', {}),
  del('/api/v1/transport/vehicles/:id'),
  get('/api/v1/transport/routes'),
  get('/api/v1/transport/routes/:id'),
  get('/api/v1/transport/routes/:id/stops'),
  post('/api/v1/transport/routes/:id/stops', {}),
  put('/api/v1/transport/routes/:id/stops/:stopId', {}),
  del('/api/v1/transport/routes/:id/stops/:stopId'),
  post('/api/v1/transport/routes', {}),
  put('/api/v1/transport/routes/:id', {}),
  del('/api/v1/transport/routes/:id'),
  get('/api/v1/transport/student-mapping'),
  post('/api/v1/transport/student-mapping', {}),
  get('/api/v1/transport/students/:studentId/route'),
  put('/api/v1/transport/student-mapping/:studentId', {}),
  del('/api/v1/transport/student-mapping/:studentId'),
  post('/api/v1/transport/student-mapping/bulk', {}),
  get('/api/v1/transport/drivers'),
  get('/api/v1/transport/drivers/:id'),
  get('/api/v1/transport/drivers/:id/documents'),
  post('/api/v1/transport/drivers/:id/documents', {}),
  get('/api/v1/transport/drivers/:id/assignments'),
  post('/api/v1/transport/drivers', {}),
  put('/api/v1/transport/drivers/:id', {}),
  del('/api/v1/transport/drivers/:id'),
  post('/api/v1/transport/bus-attendance', {}),
  get('/api/v1/transport/bus-attendance'),
  get('/api/v1/transport/bus-attendance/statistics'),
  get('/api/v1/transport/bus-attendance/reports'),
  post('/api/v1/transport/tracking/start', {}),
  post('/api/v1/transport/tracking/update-location', {}),
  get('/api/v1/transport/tracking/location'),
  post('/api/v1/transport/tracking/end', {}),
  get('/api/v1/transport/tracking/history'),
  get('/api/v1/transport/tracking/status'),
  get('/api/v1/transport/settings'),
  put('/api/v1/transport/settings', {})
]);

// Fees
addFolder('Fees', [
  post('/api/v1/fees/payments/gateway-callback', {}),
  get('/api/v1/fees/dashboard'),
  get('/api/v1/fees/assignments'),
  post('/api/v1/fees/assignments', {}),
  post('/api/v1/fees/assignments/bulk', {}),
  put('/api/v1/fees/assignments/:id', {}),
  get('/api/v1/fees/student-fees'),
  get('/api/v1/fees/student-fees/summary'),
  get('/api/v1/fees/student-fees/:id'),
  get('/api/v1/fees/heads'),
  post('/api/v1/fees/heads', {}),
  put('/api/v1/fees/heads/:id', {}),
  del('/api/v1/fees/heads/:id'),
  get('/api/v1/fees/rules'),
  post('/api/v1/fees/rules', {}),
  put('/api/v1/fees/rules/:id', {}),
  del('/api/v1/fees/rules/:id'),
  get('/api/v1/fees/concessions'),
  post('/api/v1/fees/concessions', {}),
  put('/api/v1/fees/concessions/:id/status', {}),
  get('/api/v1/fees/refunds'),
  post('/api/v1/fees/refunds', {}),
  put('/api/v1/fees/refunds/:id/status', {}),
  get('/api/v1/fees/settings'),
  put('/api/v1/fees/settings', {}),
  post('/api/v1/fees/payments/:id/cancel'),
  post('/api/v1/fees/payments/:id/receipt/send'),
  get('/api/v1/fees/refunds/:id'),
  post('/api/v1/fees/refunds/:id/receipt'),
  get('/api/v1/fees/reports'),
  get('/api/v1/fees/reports/export')
]);

// LMS
addFolder('LMS', [
  get('/api/v1/lms/dashboard'),
  get('/api/v1/lms/courses'),
  get('/api/v1/lms/courses/:id'),
  post('/api/v1/lms/courses', {}),
  put('/api/v1/lms/courses/:id', {}),
  del('/api/v1/lms/courses/:id'),
  post('/api/v1/lms/courses/:id/publish'),
  post('/api/v1/lms/courses/:id/archive'),
  get('/api/v1/lms/content'),
  get('/api/v1/lms/content/:id'),
  post('/api/v1/lms/content', {}),
  put('/api/v1/lms/content/:id', {}),
  del('/api/v1/lms/content/:id'),
  get('/api/v1/lms/announcements'),
  post('/api/v1/lms/announcements', {}),
  put('/api/v1/lms/announcements/:id', {}),
  del('/api/v1/lms/announcements/:id'),
  get('/api/v1/lms/assignments'),
  get('/api/v1/lms/assignments/:id'),
  post('/api/v1/lms/assignments', {}),
  put('/api/v1/lms/assignments/:id', {}),
  del('/api/v1/lms/assignments/:id'),
  get('/api/v1/lms/assignments/:id/submissions'),
  put('/api/v1/lms/assignments/:id/submissions/:submissionId/grade', {}),
  post('/api/v1/lms/assignments/:id/submissions/bulk-grade', {}),
  get('/api/v1/lms/assessments'),
  get('/api/v1/lms/assessments/:id'),
  post('/api/v1/lms/assessments', {}),
  put('/api/v1/lms/assessments/:id', {}),
  del('/api/v1/lms/assessments/:id'),
  post('/api/v1/lms/assessments/:id/submit', {}),
  get('/api/v1/lms/assessments/:id/results'),
  get('/api/v1/lms/live-classes'),
  post('/api/v1/lms/live-classes', {}),
  put('/api/v1/lms/live-classes/:id', {}),
  del('/api/v1/lms/live-classes/:id'),
  post('/api/v1/lms/live-classes/:id/start'),
  post('/api/v1/lms/live-classes/:id/end'),
  get('/api/v1/lms/recorded-classes'),
  post('/api/v1/lms/recorded-classes', {}),
  put('/api/v1/lms/recorded-classes/:id', {}),
  del('/api/v1/lms/recorded-classes/:id'),
  get('/api/v1/lms/progress'),
  put('/api/v1/lms/progress', {}),
  get('/api/v1/lms/progress/reports'),
  get('/api/v1/lms/automation/rules'),
  post('/api/v1/lms/automation/rules', {}),
  put('/api/v1/lms/automation/rules/:id', {}),
  del('/api/v1/lms/automation/rules/:id'),
  get('/api/v1/lms/settings'),
  put('/api/v1/lms/settings', {}),
  get('/api/v1/lms/virtual-classrooms'),
  get('/api/v1/lms/virtual-classrooms/:id'),
  post('/api/v1/lms/virtual-classrooms', {}),
  post('/api/v1/lms/virtual-classrooms/:id/join', {}),
  post('/api/v1/lms/virtual-classrooms/:id/leave', {}),
  get('/api/v1/lms/attendance'),
  post('/api/v1/lms/attendance', {}),
  get('/api/v1/lms/analytics/teacher')
]);

// Marketing
addFolder('Marketing', [
  get('/api/v1/marketing/home'),
  put('/api/v1/marketing/home', {}),
  get('/api/v1/marketing/about'),
  put('/api/v1/marketing/about', {}),
  get('/api/v1/marketing/features'),
  put('/api/v1/marketing/features', {}),
  get('/api/v1/marketing/pricing'),
  put('/api/v1/marketing/pricing', {}),
  get('/api/v1/marketing/leads'),
  get('/api/v1/marketing/leads/:id'),
  post('/api/v1/marketing/leads', {}),
  put('/api/v1/marketing/leads/:id', {}),
  del('/api/v1/marketing/leads/:id'),
  post('/api/v1/marketing/leads/:id/convert', {}),
  post('/api/v1/marketing/leads/:id/notes', {}),
  get('/api/v1/marketing/leads/:id/history'),
  get('/api/v1/marketing/onboarding'),
  put('/api/v1/marketing/onboarding', {}),
  post('/api/v1/marketing/onboarding/complete'),
  get('/api/v1/marketing/campaigns'),
  get('/api/v1/marketing/campaigns/:id'),
  post('/api/v1/marketing/campaigns', {}),
  put('/api/v1/marketing/campaigns/:id', {}),
  del('/api/v1/marketing/campaigns/:id'),
  post('/api/v1/marketing/campaigns/:id/send'),
  post('/api/v1/marketing/campaigns/:id/schedule', {}),
  post('/api/v1/marketing/campaigns/:id/cancel'),
  get('/api/v1/marketing/campaigns/:id/performance'),
  get('/api/v1/marketing/analytics/overall'),
  get('/api/v1/marketing/analytics/campaigns'),
  get('/api/v1/marketing/analytics/leads/source'),
  get('/api/v1/marketing/analytics/leads/date'),
  get('/api/v1/marketing/settings'),
  put('/api/v1/marketing/settings', {})
]);


const outPath = path.join(__dirname, '../postman/Vidhyadhan_API_Complete.postman_collection.json');
fs.writeFileSync(outPath, JSON.stringify(collection, null, 2));
console.log('Postman collection generated at', outPath);
console.log('Total folders:', collection.item.length);
